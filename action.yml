name: 'record-actions-duration'

description: 'This custom action records the execution time of GitHub Actions.'

inputs:
  repository_name:
    description: 'Repository name of the Actions you want to measure'
    required: true
  workflow_name:
    description: 'Workflow file name of the Actions you want to measure'
    required: true
  token:
    description: 'Token of the repository to be measured'
    required: true

runs:
  using: composite
  steps:
    - uses: oven-sh/setup-bun@v1
    - run: bun install
      shell: bash
    - run: bun run ${GITHUB_ACTION_PATH}/src/index.ts
      shell: bash
      env:
        REPOSITORY_NAME: ${{ inputs.repository_name }}
        WORKFLOW_NAME: ${{ inputs.workflow_name }}
        TOKEN: ${{ inputs.token }}
